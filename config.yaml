name: "JiKong Rs485 PB2A16S30P BMS"
version: "2.0.0"
slug: "jikong_rs485_pb2a16s30p_bms"
description: "å…¨åŠŸèƒ½ç›£è½ç‰ˆï¼šæ”¯æ´ Modbus Gateway æˆ– RS485 USB æ¨¡å¼ï¼Œå¯åŒæ™‚æ“·å– BMS æ•¸æ“šèˆ‡ Master æ§åˆ¶æŒ‡ä»¤ã€‚"
url: "https://github.com/loveflee/jikong-rs485-pb2a16s30p-bms-addon"
documentation: "https://github.com/loveflee/jikong-rs485-pb2a16s30p-bms-addon"
arch:
  - amd64
  - armv7
  - aarch64
startup: services
boot: auto

# Add-on é è¨­é¸é …
options:
  # æ ¸å¿ƒæ¨¡å¼é¸æ“‡ (äºŒé¸ä¸€)
  connection_mode: "RS485 USB Dongle"
  debug_raw_log: false
  
  # TCP Modbus Gateway åƒæ•¸
  modbus_host: "192.168.1.100"
  modbus_port: 502
  modbus_timeout: 10
  modbus_buffer_size: 4096

  # RS485 USB åƒæ•¸
  serial_device: "/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0"
  serial_baudrate: 115200

  # MQTT åƒæ•¸
  mqtt_host: "core-mosquitto"
  mqtt_port: 1883
  mqtt_username: "mqtt user"
  mqtt_password: "mqtt password"
  mqtt_discovery_prefix: "homeassistant"
  mqtt_topic_prefix: "Jikong_BMS"
  mqtt_client_id: "jk_bms_monitor"

  # ç³»çµ±è¡Œç‚º (å…¨åŠŸèƒ½å„ªåŒ–å€¼)
  packet_expire_time: 2.0
  settings_publish_interval: 60

schema:
  # ğŸ’¡ æ ¸å¿ƒå„ªåŒ–ï¼šä½¿ç”¨ list é€²è¡Œäº’æ–¥é¸æ“‡ï¼Œé¿å…åŒæ™‚é–‹å•Ÿå…©å€‹æ¨¡å¼
  connection_mode: "list(Modbus Gateway TCP|RS485 USB Dongle)"
  debug_raw_log: bool

  # TCP åƒæ•¸å€å¡Š (ç•¶æ¨¡å¼é¸æ“‡ TCP æ™‚å¡«å¯«)
  modbus_host: str
  modbus_port: int
  modbus_timeout: int
  modbus_buffer_size: int

  # USB åƒæ•¸å€å¡Š (ç•¶æ¨¡å¼é¸æ“‡ USB æ™‚å¡«å¯«)
  serial_device: str
  serial_baudrate: int

  # MQTT åƒæ•¸
  mqtt_host: str
  mqtt_port: int
  mqtt_username: str
  mqtt_password: str
  mqtt_discovery_prefix: str
  mqtt_topic_prefix: str
  mqtt_client_id: str

  # APP è¡Œç‚º
  packet_expire_time: float
  settings_publish_interval: int

ports: {}
map:
  - type: addon_config
    read_only: false

# ä¿æŒå°å¯¦é«”è¨­å‚™çš„å­˜å–æ¬Šé™
uart: true

panel_icon: mdi:battery-bluetooth
